<!doctype html>
<meta charset=utf-8>
<head>

<!-- <script src=https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false></script> -->
<!-- <script src=cache/jquery-1.9.1.min.js></script> -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<!-- <script src="cache2/jquery.min.js"></script>  -->
<script src=cache/jquery-ui.min.js></script>
<script src=cache/d3.v3.min.js charset=utf-8></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.2/underscore-min.js></script>

<!-- <script src=/plugin/ui/controlPanel.js></script> -->

<!-- for clique -->
<script src="cache2/underscore-min.js"></script>
<script src="cache2/backbone-min.js"></script>
<script src="cache/cola.v3.min.js"></script>


<!-- had been v3.0.3 -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<script src="cache/bootstrap-slider.min.js"></script>
<link rel="stylesheet" href="cache/bootstrap-slider.min.css">


<script src="cache/clique.js"></script>  

<!-- for bootstrap table
<script src="jquery.min.js"></script>
<script src="bootstrap.min.js"></script>
<script src="bootstrap-table.js"></script>
-->



<link href=cache/jquery-ui.css rel=stylesheet>

<link rel="shortcut icon" href=/img/tangelo.ico>

<!-- modals didn't work when I used 3.3.2, so backing down to 3.0.2 -->
<!-- <script src="cache2/bootstrap.min.js"></script> -->

<!--
<link href=//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css rel=stylesheet>

<script src="cache/jsoneditor.min.js"></script>
<link rel="stylesheet" href="cache/jsoneditor.min.css">
-->

<!--  lineup inclusions -->

<script src="lineup_js/demo/libs/FileSaver.js"></script>
<script src="lineup_js/src/lineup_datastructure.js"></script>
<script src="lineup_js/src/lineup_storage.js"></script>

<link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet" type="text/css">
<link href="lineup_js/css/font-awesome.min.css" rel="stylesheet">
<link href="lineup_js/css/style.css" rel="stylesheet">
<link href="lineup_js/demo/css/style-demo.css" rel="stylesheet">

<script src="lineup_js/src/lineup.js"></script>
<script src="lineup_js/src/lineup_tableheader.js"></script>
<script src="lineup_js/src/lineup_tablebody.js"></script>
<script src="lineup_js/src/lineup_gui_helper.js"></script>
<script src="lineup_js/src/lineup_mappingeditor.js"></script>

<script src="lineup_js/demo/lineup_demo.js"></script>


<!-- Latest compiled and minified Bootstrap Table JavaScript for the pairings list -->
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.8.1/bootstrap-table.min.js"></script>

<!-- for the bootstrap table in the pairings popover -->
<link rel="stylesheet" href="bootstrap-table.css">

<title>Document Ranking</title>
<link rel="stylesheet" href="index.css">
</head>
<body class=fuelux>
<div id=info-panel class="modal fade draper" data-wf="1"  data-description="info panel">
    <div class=modal-dialog>
        <div class=modal-content>
            <div class=modal-header>
                <h3>Information</h3>
            </div>

            <div class=modal-body>
                <p>Rank and examine documents associated with different entities.</p>
            </div>

            <div class=modal-footer>
                <a class="btn btn-default" data-dismiss=modal>OK</a>
            </div>
        </div>
    </div>
</div>

<div id=help-panel class="modal fade draper" data-wf="1"  data-description="help panel">
    <div class=modal-dialog>
        <div class=modal-content>
            <div class=modal-header>
                <h3>Help</h3>
            </div>

            <div class=modal-body>
                <p>To use:
                    <ol>
                        <li>Select an entity to examine on the left.  Known documents with rankings are shown in a sortable list.  If you select a document, a document summary and link are shown on the right.

                        <li>Begin typing a user GUID, name, or email name in the search box.  The
                            autocomplete feature will show you some suggested names
                            you may be looking for.

                        <li>Select the username you want, and click "Explore Documents".

                        <li>Manipulate the columns in the center, sorting by
                            various metrics, until you see the listings you
                            want.

                        <li>Click on a document the central listing.

                        <li>Examine the document in the right-hand pane.

                    </ol>
               </p>

               <p>The available document metrics are:
                   <ul>
                       <li><strong>Levenshtein name match</strong> The person's full name matches a social network full name.  They may or may not be the same person.

                       <li><strong>Levenshtein user name match</strong> The person's email user name matches a social network user name.  They may or may not be the same person.
                   </ul>
               </p>

               <p>To manipulate the columns, you can:
                   <ol>
                       <li>Drag the columns into a different order.

                       <li>Click on columns to order the items by that value.

                       <li>Drag the edges of columns to give them a different
                           weight.

                       <li>Click on the "Combined" column header to order the
                           items by the combined, weighted value of all the
                           columns.
                   </ol>
               </p>
            </div>

            <div class=modal-footer>
                <a class="btn btn-default" data-dismiss=modal>OK</a>
            </div>
        </div>
    </div>
</div>

<div id="seed-panel" class="modal fade draper" data-wf="1"  data-description="list seeds">
    <div class=modal-dialog>
        <div class=modal-content>
            <div class=modal-header>
                <h3>Review Pairings</h3>
            </div>

            <div class=modal-body>
                <p>Below is a list of the entity pairs that have been selected, during this session, between the two networks:</p>
               <table id="pairings-table"></table>
            </div>

            <div class=modal-footer>
                <a class="btn btn-default" data-dismiss=modal>Close Window</a>
                <a id="publish-parings-button" class="btn btn-success" data-dismiss=modal>Publish Pairing</a>
            </div>
        </div>
    </div>
</div>




<div class="navbar navbar-default navbar-fixed-top" >
    <div class=navbar-header>
        <a class=navbar-brand href=/examples>Resonant - Document Ranking</a>
    </div>

    <ul class="nav navbar-nav">
        <li><a style=cursor:pointer data-toggle=modal data-target=#info-panel><span class="glyphicon glyphicon-info-sign"></span> Info</a>
        <li><a style=cursor:pointer data-toggle=modal data-target=#help-panel><span class="glyphicon glyphicon-question-sign"></span> Help</a>
        <li style="display: none"><a style=cursor:pointer data-toggle=modal data-target=#seed-panel><span class="caret"></span>Review Pairings</a>
    </ul>
</div>


<!-- Create  side-by-side panels -->
<div class=container-fluid>
<div class=row>

   <!-- left panel for graph 1 -->
    <div class=col-md-3>
        <div id="graph1-header"></div>
        <select id="graph1-selector" class="form-control">
            <option selected disabled hidden value="">Select a dataset</option>
            <option>Twitter</option>
            <option>Instagram</option>
        </select>
        <p id="ga-summary"></p>
        
        <text id="ga-nodeCount" style="margin-left:20px">-- </text>
        <text style="margin-left:20px">Cases with Documents</text>
        <p></p>
        <!--
        <text  id="ga-linkCount" style="margin-left:20px">0 </text>
        <text  style="margin-left:20px">links loaded</text>
        <p></p>
        -->
        <!--
        <text  id="ga-matchCount" style="margin-left:20px">0 </text>
        <text  style="margin-left:20px">matched nodes</text>    
        <p></p>
        -->
        <b>Case number:</b>
        <input id="ga-name" style="margin-left:20px" disabled="disabled"></input> 
        <div id="person-list">
          <p class="person-list-header">Persons related to Case</p>
          <select class="person-list" size="5"></select>
        </div>
        <p></p>
        <a id="examine-button" class="btn btn-default">Examine Potential Matches</a>
        <!--
        <a id="onehop-button" class="btn btn-default" style="margin-top: 10px; margin-left: 20px">Explore local network</a>
        <a id="graph1-homepage" class="btn btn-default" style="margin-top: 10px; margin-left: 20px">Visit User Homepage</a>
        -->
        <p></p>
        <div id="graph1-json-info">
        </div>
        <div id="graph1-container">
          <svg id="graph1" style="height:300; margin-top:20px; margin-left:20px" ></svg>
        </div>
        <div id="info1" style="margin-top:20px"></div> 
    </div>

    <!-- center panel for showing the ranking results -->

    <div id="controls" class=col-md-6>
        <div id="match-controls">
            <select id="lineup-selector" class="form-control" style="margin-left: 20px; margin-top: 5px; margin-bottom: 20px; margin-right: 40px; display: none;"></select>
            <!-- included excerpt from lineup definition -->
            <div id="lugui-wrapper"></div>
            <!--   <script src="lineup.js/dist/LineUpJS.js"></script> -->
            <div>
                <a id="review-button" class="btn btn-default" title="Review documents from possible matches">Review Documents</a>
            </div>
        </div>
        <div id="document-controls">
            <div id="doc-match-header">
                <div id="doc-match-summary">
                    <span>Potential Match:</span>
                    <span id="doc-match-desc"></span>
                    <span>Confidence:</span>
                    <span id="doc-match-confidence"></span>
                </div>
                <div id="doc-match-rankings">
                    <label><input id="doc-user-derog" type="checkbox"> Derogatory User</label>
                    <span id="doc-user-metrics"></span>
                </div>
            </div>
            <div id="lugui2-container">
                <div id="lugui2-wrapper"></div>
            </div>
            <div id="doc-buttons">
                <a id="doc-prev-button" class="btn btn-default" title="Review documents from previous potential match">Previous Potential Match</a>
                <a id="doc-next-button" class="btn btn-default" title="Review documents from next potential match">Next Potential Match</a>
                <a id="doc-report-button" class="btn btn-default" title="Generate a report of documents that were marked as potentially derogatory">Generate Report</a>
            </div>
        </div>
    </div>
   

  <!-- right panel for graph 2 -->

     <div class=col-md-3>
        <div id="match-panel">
            <h4 id="graph2-selector" class="form-control" style="font-size: 24px; margin-left: 20px; margin-top: 20px; margin-bottom: 20px; margin-right: 40px; width: calc(100% - 30px);display:none;" >Document</h4>
            <h4 id="graph2-selector-fixed">Potential Match</h4>
            <div id="match">
                <label><input id="match-enabled" type="checkbox"> Possible Match</label>
                <div>Not Confident <input id="match-confidence" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50" data-slider-handle="square" data-slider-id="match-confidence-ctl" class="slider-ctl form-control input-sm" data-slider-tooltip="hide"> Confident</div>
                <p class="match-gap"></p>
                <div id="match-type">Type: <span></span></div>
                <div id="match-id">ID: <span></span></div>
                <div id="match-description">Description: <span></span></div>
                <div id="match-link">Link: <span></span></div>
            </div>
        </div>
        <div id="document-panel">
            <h4 id="document-title">Document</h4>
            <label><input id="document-derog" type="checkbox"> Derogatory Document</label>
            <p class="match-gap"></p>
            <div id="document-type">Type: <span></span></div>
            <div id="document-id">ID: <span></span></div>
            <div id="document-description">Description: <span></span></div>
            <div id="document-link">Link: <span></span></div>
        </div>
    </div>
  </div>
</div>
<script src="js/userale.js"></script>
<script src="logging.js"></script>
<script src="jsonToTable.js"></script>
<!-- Driver script for this app -->
<script src=entity-align.js></script>
</body>
